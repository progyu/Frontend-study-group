# 변수



## 1. 변수란 무엇인가? 왜 필요한가?



변수는 데이터를 관리하기 위한 핵심 개념이다. 

컴퓨터가 연산을 수행하기 위해서는 먼저 피연산자를 기억해야 한다.

컴퓨터는 메모리를 사용해 데이터를 기억한다.



**메모리**

메모리는 데이터를 저장할 수 있는 메모리 셀(memory cell)들의 집합체이다.

셀 하나의 크기는 1byte(8bit)이며 컴퓨터는 셀의 크기, 즉 1byte 단위로 데이터를 저장(write)하거나 읽어(read)들인다. 컴퓨터는 모든 데이터를 2진수로 처리한다. 각각의 셀은 고유의 주소(address)를 갖는다.



CPU가 연산하여 만들어낸 값을 재사용할 수 없다는 문제가 있다.

재사용을 하기위해서는 메모리 공간의 주소에 직접 접근하는 것 이외에는 방법이 없다. 하지만 메모리 주소로 메모리에 직접 접근하는 것은 시스템을 멈추게 할 수도 있는 치명적 오류를 생산할 가능성이 높은 매우 위험한 일이다. 따라서 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않는다.

기억하고 싶은 데이터를 메모리에 저장하고, **저장된 데이터를 읽어 들여 재사용하기위해 프로그래밍 언어는 변수를 제공한다.**



**변수란?**

- **변수(Variable)는 하나의 값을 저장할 수 있는 메모리 공간에 붙인 이름 또는 메모리 공간 자체를 말한다.** 간단히 말하자면 값에 이름을 붙인 것이다.

- **메모리 공간을 식별할 수 있는 이름을 붙인 것**



**변수에 여러 개의 값을 저장하는 방법**

배열, 객체와 같은 자료 구조를 사용하면 관련이 있는 여러 개의 값을 하나로 그룹화하여 하나의 값처럼 사용할 수 있다.

```javascript
var person = {
    name: 'Lee',
   	age: 29
}
```



변수에 **값을 저장**하는 것을 **할당(assignment 대입, 저장)**이라 하고, **변수에 저장된 값을 읽어 들이는 것**을 **참조(reference)**라고 한다.



## 2. 식별자

변수 이름을 식별자(identifier)라고도 부른다.

식별자라는 용어는 변수에만 국한해서 사용하지 않는다. 예를 들어, 변수, 함수, 클래스 등의 이름은 모두 식별자다. 즉, 식별자는 변수 이름을 포괄하는 상위 개념이다.

“선언(declaration)”에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.



## 3. 변수 선언

**변수 선언(Variable declaration)이란 변수를 생성하는 것을 말한다. 좀 더 자세히 말하면 변수 이름을 자바스크립트 엔진에 알려 등록하고 변수값을 저장하기 위한 메모리 영역의 확보를 명령하는 것이다. 변수 선언을 통해 자바스크립트 엔진은 등록된 변수 이름과 변수값을 저장하기 위한 메모리 영역을 연결하여 통해 변수를 지속적으로 관리한다.**

변수를 선언할 때는 var, let, const 키워드를 사용한다.

```javascript
var name; // 변수의 선언(변수 선언문)
```

위 변수 선언문은 **변수 이름을 등록**하고 값을 저장할 **메모리 공간을 확보**한다.

확보된 메모리 공간에는 자바스크립트 엔진에 의해 `undefined` 라는 값이 암묵적으로 할당되어 초기화된다.  

**자바스크립트 엔진의 변수 선언 2단계**

- 선언 단계
  - 변수 이름을 등록하여 자바스크립트 엔진에 변수의 존재를 알린다.

- 초기화 단계
  - 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undeifined`를 할당한다.

var 키워드를 사용한 변수 선언은 선언 단계와 초기화 단계가 동시에 진행된다.



**초기화**

일반적으로 **초기화(Initialization)**란 변수가 선언된 이후 **최초로 값을 할당**하는 것을 말한다.



## 4. 변수 선언의 실행 시점과 변수 호이스팅

변수 선언은 소스 코드가 순차적으로 한 줄씩 실행되는 시점, 즉 런타임(run-time)이 아니라 그 이전 단계인 **구문 분석(Syntax analysis) 단계**에 먼저 실행된다.  즉, 자바스크립트 엔진은 소스 코드를 한 줄씩 순차적으로 실행하기 이전에 **먼저 소스 코드 전체를 평가**한다.이때 **모든 선언문(변수 선언문, 함수 선언문 등)을 찾아내어 식별자를 등록하고 초기화**한다. 그후, 선언문을 제외한 소스 코드를 한 줄씩 순차적으로 실행한다.



**변수 호이스팅**

변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징. 



## 5. 값의 할당

**변수 선언은 소스 코드가 순차적으로 실행되기 이전, 즉 런타임 이전에 먼저 실행되지만 값의 할당은 소스 코드가 순차적으로 실행되는 시점인 런타임에 실행된다.**

변수에 값을 할당할 때는 초기화 단계에서 이미 자바스크립트 엔진에 의해 undefined가 저장되어 있던 메모리 공간에 undefined를 지우고 새로이 할당된 값을 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 그 메모리 공간에 값을 저장한다. 





## 6. 값의 재할당

var 키워드로 선언한 변수는 값을 재할당할 수 있다. 재할당은 현재 변수가 저장하고 있는 값을 버리고 새로운 값을 저장하는 것이다. 

**상수**

 **재할당을 할 수 없어서 변수에 저장된 값을 변경할 수 없다**



**가비지 컬렉터**

애플리케이션이 확보한 메모리를 주기적으로 검사하여 더 이상 사용되고 있지 않는 메모리를 해제하는 기능.  더 이상 사용되고 있지 않는 메모리란 어떤 식별자도 참조하고 있지 않는 메모리 영역을 의미한다. 



## 7. 식별자 네이밍 규칙

- 식별자는 특수문자를 제외한 **문자, 숫자, underscore( _ ), 달러 기호($)**를 **포함**할 수 있다.
- 단, 식별자는 특수문자를 제외한 **문자, underscore( _ ), 달러 기호($)**로 **시작**해야 한다. **숫자로 시작하는 것은 허용하지 않는다.**
- 예약어는 식별자로 사용할 수 없다.

```javascript
// 식별자 네이밍 컨벤션

// 카멜 케이스 (camelCase)
var firstName;

// 스네이크 케이스 (snake_case)
var first_name;

// 파스칼 케이스 (PascalCase)
var FirstName;

// 헝가리언 케이스 (typeHungarianCase)
var strFirstName;          // type + identifier
var $elem = $('.myClass'); // jQuery
```

가장 일반적인 것은 **변수나 함수의 이름에는 카멜 케이스**를 사용하고 **생성자 함수, 클래스의 이름에는 파스칼 케이스**를 사용하는 것이다.





## 질문

1. 변수 선언이란?

   A. 변수 이름을 자바스크립트 엔진에 알려 등록하고 변수값을 저장하기 위한 메모리 영역의 확보를 명령하는 것

2. 변수란?

   A. 

   - **변수(Variable)는 하나의 값을 저장할 수 있는 메모리 공간에 붙인 이름 또는 메모리 공간 자체를 말한다.** 간단히 말하자면 값에 이름을 붙인 것이다.

   - **메모리 공간을 식별할 수 있는 이름을 붙인 것**

3. 변수가 필요한 이유?

   A. 저장된 데이터를 읽어 들여 재사용하기위해

4. 변수 하나에 여러 개의 데이터를 저장하는 방법은?

   A. 배열, 객체와 같은 자료 구조를 사용

5. 변수 호이스팅이란?

   A. 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징. 

6. 변수 선언이 실행되는 단계는?

   A. 

   - 선언 단계
     - 변수 이름을 등록하여 자바스크립트 엔진에 변수의 존재를 알린다.

   - 초기화 단계
     - 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undeifined`를 할당한다.

7. 가비지 컬렉터란?

   A. 애플리케이션이 확보한 메모리를 주기적으로 검사하여 더 이상 사용되고 있지 않는 메모리를 해제하는 기능.  더 이상 사용되고 있지 않는 메모리란 어떤 식별자도 참조하고 있지 않는 메모리 영역을 의미한다. 

   

> 이 글은 © 2019  Ung-mo Lee [poiemaweb](<https://poiemaweb.com/>)의 내용을 요약한 것입니다.